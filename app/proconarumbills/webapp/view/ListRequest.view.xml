<mvc:View
    controllerName="ns.proconarumbills.controller.ListRequest"
    height="100%"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns:core="sap.ui.core"
    xmlns="sap.m"
    xmlns:fb="sap.ui.comp.filterbar"
    xmlns:svm="sap.ui.comp.smartvariants">

    <Page id="listRequestPage" showHeader="true" enableScrolling="true">     
        <!-- Content -->
        <content>
            <VBox id="vboxMain">

                <!-- Variant Management (equivalent of SmartVariantManagement in title) -->
                <svm:SmartVariantManagement id="svm" showExecuteOnSelection="true" />

                <!-- Filter Bar -->
                <fb:FilterBar
                    id="filterbar"
                    useToolbar="false"
                    search=".onSearch"
                    filterChange=".onFilterChange"
                    afterVariantLoad=".onAfterVariantLoad">

                    <fb:filterGroupItems>

                        <!-- === Row 1 === -->
                        <fb:FilterGroupItem id="fgRequestID"
                            groupName="Row1"
                            name="requestId"
                            label="Request ID"
                            visibleInFilterBar="true">
                            <fb:control>
                                <Input id="inputRequestId" />
                            </fb:control>
                        </fb:FilterGroupItem>

                        <fb:FilterGroupItem id="fgCreatedBy"
                            groupName="Row1"
                            name="createdBy"
                            label="Created By"
                            visibleInFilterBar="true">
                            <fb:control>
                                <Input id="inputCreatedBy" />
                            </fb:control>
                        </fb:FilterGroupItem>

                        <fb:FilterGroupItem id="fgChangedBy"
                            groupName="Row1"
                            name="changedBy"
                            label="Changed By"
                            visibleInFilterBar="true">
                            <fb:control>
                                <Input id="inputChangedBy" />
                            </fb:control>
                        </fb:FilterGroupItem>

                        <fb:FilterGroupItem id="fgPriority"
                            groupName="Row1"
                            name="priority"
                            label="Priority"
                            visibleInFilterBar="true">
                            <fb:control>
                                <MultiComboBox id="multiComboBoxPriority">
                                    <core:Item id="item1" key="H" text="High"/>
                                    <core:Item id="item2" key="L" text="Low"/>
                                </MultiComboBox>
                            </fb:control>
                        </fb:FilterGroupItem>

                        <fb:FilterGroupItem id="fgApprovedBy"
                            groupName="Row1"
                            name="approvedBy"
                            label="Approved By"
                            visibleInFilterBar="true">
                            <fb:control>
                                <Input id="inputApprovedBy" />
                            </fb:control>
                        </fb:FilterGroupItem>

                        <fb:FilterGroupItem id="fgStatus"
                            groupName="Row1"
                            name="status"
                            label="Status"
                            visibleInFilterBar="true">
                            <fb:control>
                                <MultiComboBox id="multiComboBoxStatus">
                                    <core:Item id="item3" key="PAID" text="PAID"/>
                                    <core:Item id="item4" key="UNPAID" text="UNPAID"/>
                                </MultiComboBox>
                            </fb:control>
                        </fb:FilterGroupItem>

                        <!-- === Row 2 === -->
                        <fb:FilterGroupItem id="fgCreatedDate"
                            groupName="Row2"
                            name="createdDate"
                            label="Created Date"
                            visibleInFilterBar="true">
                            <fb:control>
                                <DatePicker id="dateCreated"/>
                            </fb:control>
                        </fb:FilterGroupItem>

                        <fb:FilterGroupItem id="fgChangedDate"
                            groupName="Row2"
                            name="changedDate"
                            label="Changed Date"
                            visibleInFilterBar="true">
                            <fb:control>
                                <DatePicker id="dateChanged"/>
                            </fb:control>
                        </fb:FilterGroupItem>

                        <fb:FilterGroupItem id="fgDueDate"
                            groupName="Row2"
                            name="dueDate"
                            label="Due Date"
                            visibleInFilterBar="true">
                            <fb:control>
                                <DatePicker id="dateDue"/>
                            </fb:control>
                        </fb:FilterGroupItem>

                        <fb:FilterGroupItem id="fgApprovalDate"
                            groupName="Row2"
                            name="approvalDate"
                            label="Approval Date"
                            visibleInFilterBar="true">
                            <fb:control>
                                <DatePicker id="dateApproval"/>
                            </fb:control>
                        </fb:FilterGroupItem>

                    </fb:filterGroupItems>
                </fb:FilterBar>

                <!-- Toolbar Actions -->
                <Toolbar id="toolbarActions">
                    <ToolbarSpacer id="ToolbarSpacer"/>
                    <Button id="btnCreate" text="Create New" type="Emphasized" press=".onCreate" />
                    <Button id="btnDelete" text="Delete" press=".onDelete" type="Reject"/>
                </Toolbar>

                <!-- Table -->
                <Table
                    id="table"
                    inset="false"
                    items="{ path: '/Requests' }"
                    mode="MultiSelect">
                    
                    <columns>
                        <Column id="columnDescription" minScreenWidth="Tablet" demandPopin="true">
                            <Text id="textColumnDescription" text="Description" />
                        </Column>
                        <Column id="columnStatus" minScreenWidth="Tablet" demandPopin="true">
                            <Text id="textColumnStatus" text="Status" />
                        </Column>
                        <Column id="columnCreatedBy" minScreenWidth="Tablet" demandPopin="true">
                            <Text id="textColumnCreatedBy" text="Created By" />
                        </Column>
                        <Column id="columnCreatedOn" minScreenWidth="Tablet" demandPopin="true">
                            <Text id="textColumnCreatedOn" text="Created On" />
                        </Column>
                        <Column id="columnApprovedBy" minScreenWidth="Tablet" demandPopin="true">
                            <Text id="textColumnApprovedBy" text="Approved By" />
                        </Column>
                        <Column id="columnPriority" minScreenWidth="Tablet" demandPopin="true">
                            <Text id="textColumnPriority" text="Priority" />
                        </Column>
                        <Column id="columnDueDate" minScreenWidth="Tablet" demandPopin="true">
                            <Text id="textColumnDueDate" text="Due Date" />
                        </Column>
                        <Column id="columnChangeBy" minScreenWidth="Tablet" demandPopin="true">
                            <Text id="textColumnChangeBy" text="Change By" />
                        </Column>
                        <Column id="columnChangeOn" minScreenWidth="Tablet" demandPopin="true">
                            <Text id="textColumnChangeOn" text="Change On" />
                        </Column>
                        <Column id="columnApprovalDate" minScreenWidth="Tablet" demandPopin="true">
                            <Text id="textColumnApprovalDate" text="Approval Date" />
                        </Column>
                        <Column id="columnAction" minScreenWidth="Tablet" demandPopin="true">
                            <Text id="textColumnAction" text="Action" />
                        </Column>
                    </columns>

                    <items>
                        <ColumnListItem id="columnListItem" vAlign="Middle" type="Active" press=".onItemPress">
                            <cells>
                                <Text id="textDescription" text="{description}" />
                                <ObjectStatus id="objectStatus" text="{status}" state="{= ${status} === 'New' ? 'Error' : 'Success'}" />
                                <Text id="textCreatedBy" text="{createdBy}" />
                                <Text id="textCreatedAt" text="{createdAt}" />
                                <Text id="textApprovedBy" text="{approvedBy}" />
                                <ObjectStatus id="objectPriority" text="{priority}" state="{= ${priority} === 'High' ? 'Error' : 'Success'}" />
                                <Text id="textDueDate" text="{dueDate}" />
                                <Text id="textModifiedBy" text="{modifiedBy}" />
                                <Text id="textModifiedAt" text="{modifiedAt}" />
                                <Text id="textApprovalDate" text="{approvalDate}" />
                            </cells>
                        </ColumnListItem>
                    </items>
                </Table>

            </VBox>
        </content>
    </Page>
</mvc:View>