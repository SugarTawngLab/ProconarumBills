<mvc:View
	controllerName="ns.proconarumbills.controller.ListBill"
	height="100%"
	xmlns:mvc="sap.ui.core.mvc"
	xmlns:core="sap.ui.core"
	xmlns="sap.m"
	xmlns:f="sap.f"
	xmlns:fb="sap.ui.comp.filterbar"
	xmlns:svm="sap.ui.comp.smartvariants">

	<f:DynamicPage id="dynamicPage" >
		<f:title>
			<f:DynamicPageTitle id="dynamicPageTitle">
				<f:heading>
					<svm:SmartVariantManagement id="svm" showExecuteOnSelection="true" />
				</f:heading>
				<f:expandedContent>
					<Label id="expandedLabel" text="No filters active" />
				</f:expandedContent>
				<f:snappedContent>
					<Label id="snappedLabel" text="No filters active" />
				</f:snappedContent>
			</f:DynamicPageTitle>
		</f:title>

		<f:header>
			<f:DynamicPageHeader id="dynamicPageHeader">
				<f:content>
					<fb:FilterBar
						id="filterbar"
						persistencyKey="myPersKey"
						useToolbar="false"
						search=".onSearch"
						filterChange=".onFilterChange"
						afterVariantLoad=".onAfterVariantLoad">

						<fb:filterGroupItems>

							<fb:FilterGroupItem
								id="filterGroupItemStatus"
								name="status"
								label="Status"
								groupName="Group1"
								visibleInFilterBar="true">
								<fb:control>
									<MultiComboBox
										id="multiComboBoxStatus"
										name="status"
										selectionChange=".onSelectionChange">
										<core:Item id="itemStatusPaid" key="PAID" text="PAID" />
										<core:Item id="itemStatusUnPaid" key="UNPAID" text="UNPAID" />
									</MultiComboBox>
								</fb:control>
							</fb:FilterGroupItem>
						</fb:filterGroupItems>
					</fb:FilterBar>
				</f:content>
			</f:DynamicPageHeader>
		</f:header>

		<f:content>
			<VBox id="vboxMain">
					<Toolbar id="toolbarActions">
						<ToolbarSpacer id="toolbarSpacer"/>
						<Button id="btnCreate" text="Create" icon="sap-icon://add" press=".onCreate" />
						<Button id="btnDelete" text="Delete" icon="sap-icon://delete" press=".onDelete" />
						<Button id="btnExport" text="Export to Excel" icon="sap-icon://excel-attachment" press=".onExport" />
					</Toolbar>
				<Table
					id="table"
					inset="false"
					items="{ path: '/Bills' }">

					<columns>
						<Column id="columnTitle" minScreenWidth="Tablet" demandPopin="true">
							<Text id="textColumnTitle" text="Title" />
						</Column>
						<Column id="columnDescription" minScreenWidth="Tablet" demandPopin="true">
							<Text id="textColumnDescription" text="Description" />
						</Column>
						<Column id="columnAmount" minScreenWidth="Tablet" demandPopin="true">
							<Text id="textColumnAmount" text="Amount" />
						</Column>
						<Column id="columnStatus" minScreenWidth="Tablet" demandPopin="true">
							<Text id="textColumnStatus" text="Status" />
						</Column>
					</columns>

					<items>
						<ColumnListItem id="columnListItem" vAlign="Middle">
						<cells>
							<Text id="textCellTitle" text="{title}" />
							<Text id="textCellDesc" text="{desc}" />
							<ObjectNumber id="objectNumberSumCharge" number="{sumCharge}" unit="USD" />
							<ObjectStatus id="objectStatusPaid" text="{status}" state="{= ${status} === 'PAID' ? 'Success' : 'Error' }" />
						</cells>  
						</ColumnListItem>
					</items>
				</Table>
			</VBox>
		</f:content>
	</f:DynamicPage>
</mvc:View>
